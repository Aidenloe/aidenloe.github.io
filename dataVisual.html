<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Aiden" />


<title>Data Visualisation</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Aiden Loe</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R 4 Psychologists
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">What is R?</li>
    <li>
      <a href="introToR.html">Intro to R</a>
    </li>
    <li>
      <a href="dataVisual.html">Data Visualisation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Data Visualisation</h1>
<h4 class="author"><em>Aiden</em></h4>
<h4 class="date"><em>17 May, 2017</em></h4>

</div>


<div id="intro-to-visualisation" class="section level2">
<h2><strong>Intro to visualisation</strong></h2>
<p>There are tons of different packages that can be used to visualise data. I will be covering a couple of these packages. These should be good enough to get you started on your own. First we will start using the functions that are provided by base R. These plotting functions do not rely on any packages. Sort of like a quick dirty way to see your data. The plotting capabilities are super flexible, but we want to keep it simple and straightforward for our audience to understand. Then we will use the ggplot2 package to help us do more plotting. As usual, there are questions at the end for you to complete. In this case, we will only test you on ggplot2.</p>
</div>
<div id="dataset" class="section level2">
<h2><strong>Dataset</strong></h2>
<p>So let’s use the bfi dataset from the <code>psych</code> package. If you want to see what is in the bfi dataset, all you need to do is to</p>
<ol style="list-style-type: decimal">
<li>Install psych package <code>install.packages()</code></li>
<li>Load psych package <code>require()</code></li>
<li>load dataset <code>data()</code></li>
<li>See what is in the dataset <code>str()</code></li>
</ol>
<p>To make things easy. I will quick a quick brief introduction to the data. For more information please see the documentation <code>?bfi</code>.</p>
<ul>
<li><p>Five Personality Factors</p>
<ul>
<li>28 variables in total</li>
<li>25 personality items</li>
<li>5 items per factor</li>
<li>2800 observations</li>
<li>Includes gender, edu and age.</li>
</ul></li>
</ul>
</div>
<div id="generic-plotting" class="section level2">
<h2><strong>Generic Plotting</strong></h2>
<p>We can immediately start plotting to get a generate sense of the data we have.</p>
<p>Here are some questions you might want to ask at the beginning.</p>
<ol style="list-style-type: decimal">
<li>How does the distribution of my items look like? <em>(histogram)</em></li>
<li>Is there a relationship between openness and extraversion? <em>(scatterplot)</em></li>
<li>Are there differences in item score between gender? <em>(boxplot)</em></li>
</ol>
<div id="histogram" class="section level3">
<h3><strong>Histogram</strong></h3>
<p>To address the first question: <em>How does the distribution of my items look like?</em></p>
<p>We use the <code>hist</code> function.</p>
<p>You can try changing the variables in the dataset to see how the histogram changes.</p>
<pre class="r"><code>hist(bfi$A1)</code></pre>
<p><img src="dataVisual_files/figure-html/histogram-1.png" width="576" /></p>
<p>Here are the few more arguments which you might want to use to beautify the plot before you show someone else.</p>
<p>This is usually good enough to show your colleagues what your data looks like.</p>
<pre class="r"><code>r &lt;- hist(bfi$A1,  
          main= &quot;Histogram&quot;,     # title
          xlab=&quot;Likert scale&quot;,   # x-axis label
          ylab=&quot;Frequency&quot;,      # y-axis label
          col=&#39;green&#39;,           # colour of bins
          ylim=c(0,1000),        # y-axis limits
          xlim=c(0,7))           # x-axis limits</code></pre>
<p><img src="dataVisual_files/figure-html/histogram2-1.png" width="576" /></p>
</div>
<div id="scatter-plot" class="section level3">
<h3><strong>Scatter plot</strong></h3>
<p>To address the second question: <em>Is there a relationship between openness and extraversion??</em></p>
<p>We will use the <code>plot</code> function.</p>
<p>First, we need to get the average scores of each person per factor.</p>
<pre class="r"><code>names(bfi) #names
E &lt;- bfi[,11:15] #Extraversion
O &lt;- bfi[,21:25] #Openness

E_means &lt;- rowMeans(E) # mean score of each person for extraversion
O_means &lt;- rowMeans(O) # mean score of each person for openness</code></pre>
<p>Given that we have the mean scores of each participant for both factors. We can see if the factors do in fact have a relationship via visualisation.</p>
<p>You can change the arguments in the <code>plot</code> function so that it will display what you want. This is just a simple example.</p>
<p>Here you can see that there is a positive relationship between the scores.</p>
<p>What happens then? You normally test for significant relationship. But this give you quick a good idea of your data.</p>
<pre class="r"><code>plot(x = E_means,  
     y = O_means,
     pch= 3,         # the design of the points 
     cex = 0.5,      # size of the points
     col=&quot;dark red&quot;) # the colour of the points 

abline(lm(E_means~O_means), col=&quot;blue&quot;) # adds a regression line (y~x), aka the best fit line. The abline draws the best fit line. The best fit line is derived from using the lm(), which is the linear regression function. Using just the lm function will give you the beta estimates and the significance of the relationship between the IVs and DVs. </code></pre>
<p><img src="dataVisual_files/figure-html/scatterplot-1.png" width="576" /></p>
</div>
<div id="boxplot" class="section level3">
<h3><strong>Boxplot</strong></h3>
<p>To finally address the third question: <em>Are there differences in item scores between gender?</em></p>
<p>We will use the <code>boxplot</code> function.</p>
<p>We can see that most people in the sample are scoring at the upper bound of the response scale.</p>
<pre class="r"><code>boxplot(A4~gender,           # variable ~ group
        data=bfi,            # dataset
        main=&quot;BFI Data&quot;,     # title
        xlab=&quot;Gender&quot;,       # x-axis label
        ylab=&quot;Likert Scale&quot;) # y-axis label</code></pre>
<p><img src="dataVisual_files/figure-html/boxplot%20item%20scores-1.png" width="576" /></p>
<p><strong>What happens if you are interested in differences in scores between a factor instead of an item?</strong></p>
<p>Then you need to first get the average score of each participant for the specific factor.</p>
<pre class="r"><code>E &lt;- bfi[,11:15] #Extraversion items
E_means &lt;- rowMeans(E) # mean score of each person for extraversion
bfi$E_Means &lt;- E_means #Put it into a new column in the dataset

boxplot(E_Means ~gender,             # variable ~ group
        col=(c(&quot;gold&quot;,&quot;darkgreen&quot;)), # colour between boxplots
        data=bfi,                    # dataset
        main=&quot;BFI Data&quot;,             # title
        xlab=&quot;Gender&quot;,               # x-axis label
        ylab=&quot;Likert Scale&quot;,         # y-axis label
        notch=TRUE)                  # include notch</code></pre>
<p><img src="dataVisual_files/figure-html/boxplot%20factor%20scores-1.png" width="576" /></p>
<p><em>One thing to note is: There is ‘strong evidence’ that their medians differ if the two boxes’ notches do not overlap (Chambers et al., 1983, p. 62).</em></p>
</div>
</div>
<div id="ggplot2" class="section level2">
<h2><strong>GGPLOT2</strong></h2>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-98916204-1', 'auto');
  ga('send', 'pageview');

</script>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
